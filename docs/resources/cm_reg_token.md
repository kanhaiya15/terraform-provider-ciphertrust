---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ciphertrust_cm_reg_token Resource - terraform-provider-ciphertrust"
subcategory: ""
description: |-
  
---

# ciphertrust_cm_reg_token (Resource)



## Example Usage

```terraform
# Terraform Configuration for CipherTrust Provider

# This configuration demonstrates the creation of a registry token resource
# with the CipherTrust provider, including setting up registration  details.

terraform {
  # Define the required providers for the configuration
  required_providers {
    # CipherTrust provider for managing CipherTrust resources
    ciphertrust = {
      # The source of the provider
      source = "ThalesGroup/CipherTrust"
      # Version of the provider to use
      version = "1.0.0-pre3"
    }
  }
}

# Configure the CipherTrust provider for authentication
provider "ciphertrust" {
	# The address of the CipherTrust appliance (replace with the actual address)
  address = "https://10.10.10.10"

  # Username for authenticating with the CipherTrust appliance
  username = "admin"

  # Password for authenticating with the CipherTrust appliance
  password = "ChangeMe101!"
}

# Fetch the CA ID for the default CA "/C=US/ST=TX/L=Austin/O=Thales/CN=CipherTrust Root CA"
data "ciphertrust_cm_local_ca_list" "groups_local_cas" {
  filters = {
    # URL encoded CA's subject "/C=US/ST=TX/L=Austin/O=Thales/CN=CipherTrust Root CA"
    subject = "%2FC%3DUS%2FST%3DTX%2FL%3DAustin%2FO%3DThales%2FCN%3DCipherTrust%20Root%20CA"
  }
}

output "casList" {
  value = data.ciphertrust_cm_local_ca_list.groups_local_cas
}

# Add a resource of type CM Registration Token with the CA ID
resource "ciphertrust_cm_reg_token" "reg_token" {
  # Use the above CA ID for creating registration token
  ca_id = tolist(data.ciphertrust_cm_local_ca_list.groups_local_cas.cas)[0].id
}

# Output the created registration token
output "reg_token_value" {
	value = ciphertrust_cm_reg_token.reg_token.token
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `ca_id` (String) DEPRECATED: the field is deprecated. Use the ca_id in the client profile instead. ca_id is the ID of the trusted Certificate Authority that will be used to sign client certificate during registration process.
- `cert_duration` (Number) Duration in days for which the CipherTrust Manager client certificate is valid. The value cannot be negative. If 0 is provided then the value will be ignored. It is not recommended to use this parameter. Please use the one supported in client profile.
- `client_management_profile_id` (String) ID of the client management profile
- `label` (Map of String) Label is the key value pair. In case of KMIP client registration, Key is KmipClientProfile and in case of PA client registration Key is ClientProfile. Value for the key is the profile name of protectapp/Kmip client profile to be mapped with the token for protectapp/Kmip client registration.
- `labels` (Map of String) Labels are key/value pairs used to group resources. They are based on Kubernetes Labels
- `lifetime` (String) Duration in minutes/hours/days for which this token can be used for registering CipherTrust Manager clients. No limit by default. For 'x' amount of time, it should formatted as xm for x minutes, xh for hours and xd for days.
- `max_clients` (Number) Maximum number of clients that can be registered using this registration token. No limit by default.
- `name_prefix` (String) Prefix for the client name. For a client registered using this registration token, name_prefix, if specified, client name will be constructed as 'name_prefix{nth client registered using this registation token}', If name_prefix is not specified, CipherTrust Manager server will generate a random name for the client.

### Read-Only

- `id` (String) The ID of this resource.
- `token` (String) Set the token recieved from the API call to the state.
